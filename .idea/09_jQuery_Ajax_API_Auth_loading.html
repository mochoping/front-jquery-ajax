<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>09_jQuery_Ajax_API_Auth_loading</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>
<header>영화 평점 조회하기</header>
<div class="main-container">
<div class="section" id="topMovies">
    <h3>평점 높은 영화</h3>
    <div class="movie-list" id="topRatedMovies">


    </div>
    </div>
</div>
<script>
    // omdapi 사이트를 이용해서 평점 높은 순으로 정렬
    // Inception 을 그대로 s= 넣고, 본인이 발급받은 API 키를 이용해서
    // 검색 x 않아도 자동으로 inception 으로 검색한 영화 순위 보여주기

    const apiURL = 'http://www.omdbapi.com/?s=inception&apikey=본인키';
    function loadMovies(){
        $.ajax({
            url:apiURL,
            method:"GET",
            success:
                    function (data) {
                        $.each(data.Search, function (input, item) {
                            $("#topRatedMovies").append(`
                                    <img src="${item.Poster}">
                                    <h3>${item.Title}</h3>
                                    <p>YEAR : ${item.Year}</p>

                            `)
                        })
                    },
            error:
                function (){
                alert("오류가 발생하여 정보를 가져오는데 실패했습니다.")
                }
        })
    }
</script>
</body>
</html>